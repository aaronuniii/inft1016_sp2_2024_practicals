<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>My page title</title>
    <link rel="stylesheet" href="style.css">
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const toggleButton = document.querySelector('#theme-toggle');

            function switchTheme() {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = (currentTheme === 'dark') ? 'light' : 'dark';
                
                document.documentElement.setAttribute('data-theme', newTheme);
                saveUserPreference(newTheme);
            }

            toggleButton.addEventListener('click', switchTheme, false);

            function loadTitle() {
                const queryString = window.location.search;
                const name = new URLSearchParams(queryString).get("name");
                if (name) {
                    document.querySelector('header h1').innerHTML = "<h1>Hello " + name + "</h1>";
                    document.title = "Hello " + name;
                }
            }

            function getUserPreference() {
                return localStorage.getItem('theme') || 'light';
            }

            function applyUserPreference() {
                const userPreference = getUserPreference();
                document.documentElement.setAttribute('data-theme', userPreference);
            }
            
            function saveUserPreference(userPreference) {
                localStorage.setItem('theme', userPreference);
            }


            function Submit(event) {
                event.preventDefault();
                let name = document.getElementById("headerchange").value;
                window.location.search = "?name=" + name;
            }

            applyUserPreference();
            loadTitle();
          
        });
    </script>
    
</head>
<body onload="loadTitle()">
</body>
<body data-theme="light">
    <header>
        <h1>First Year At University - Courses (Aaron Pasion)</h1>
        <button id="theme-toggle">Toggle Theme</button>
    </header>
    <nav>
        <ul>
            <li><a href="page1.html">Home</a></li>
            <li><a href="page2.html">Courses</a></li>    
            <li><a href="#">To Do Tasks</a></li>
        </ul>
        <form>
            <input type="text" id="headerchange" name="user_name" placeholder="Enter your name!">
            <button type="submit">Apply!</button>
        </form>
    </nav>
    <main>
        <article>
            <h2>To Do List</h2>
            <div class="container">
                <input id="inputField" type="text"><button id="addToDo">+</button>
                <div class="to-dos" id="toDoContainer">
                </div>
            </div>
            <script src="todolist.js"></script>
            
        </article>
    </main>
    <body>
        <div class="inputBox">
            <input type="password" placeholder="password"
            id="password"
        </div>
    </body>
    <p class="time"></p>Current Date and Time is <span id='date-time'></span>.</p>
    <script>
    var dt = new Date();
    var dateTimeSpan = document.getElementById('date-time');
    var formattedDateTime = dt.toLocaleString();
    document.getElementById('date-time').innerHTML=dt;
    dateTimeSpan.innerHTML = formattedDateTime;
    </script>
    <footer>
        <p>Â©Copyright 2024 by Aaron Pasion. All rights reserved.</p>
    </footer>
</body>
</html>
